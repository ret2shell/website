import{w as I,c as f,b as $,k as r,d as C,h as P,e as t,j as c,m as j,l as E,r as L,q as N,D as O,S as h,t as n,_}from"./index-D-4Ec2E9.js";import{a as V}from"./index-CDuUghHV.js";import{l as F,m as B}from"./rpc-vqsk3_Nf.js";import{A as G}from"./article-B5D9jRlm.js";import{B as i}from"./button-jqW8_kUd.js";import{C as D}from"./card-r-C9G86U.js";import{D as H}from"./dialog-H0lkJ2sm.js";import{I as J}from"./input-C0wwSomq.js";import{P as K}from"./popover-DNwyEML6.js";import{g as p,c as Q}from"./game-nYWJIA85.js";import{T as U}from"./header-C4_4FixI.js";import{a as W}from"./toast-RiaHQnvP.js";import{c as X}from"./Form-DGUtLwyz.js";import{s as x}from"./setValue-D3eDTJml.js";import{r as R}from"./required-C9pyDEac.js";import"./datetime-P2UEB0PT.js";import"./loading-tips-CriPG-RJ.js";import"./spin-Cv0qhUOt.js";import"./loading-tips-Bo-x9fE6.js";import"./use-environment-context-C2cuRCHg.js";import"./use-presence-context-DB1lc17V.js";import"./popover-root-C7Ww2Kgi.js";import"./use-locale-context-Cw8uL8t2.js";import"./user-DLuZu1WC.js";const Y=["樱","四月","挽辞","执樱","雪落","殇柒泪","婉兮","星浅","卿璃","霜","孤","偏执","浮生","半面","孤独","独舞","赤血","狂舞","狂想","黑暗","暗夜","影","漆黑","轩辕","裂焰","沉默","磁暴","恶魂","黑镜","诸神","破晓","黎明","混沌","浮遊","火炎","無双","雷撃","鎖状","火燐","零式","浮遊"],Z=["の","ヘ","ン","ヮ","ャ","マ","ァ","キ"],ee=["雪","谎言","玫瑰","亡瞳","玖音","殇","浅","星","离歌","梦音","流歌","愛","哀伤","月","夜","梦","斩","黑猫","幽人","煉獄","微塵","灰燼","洛千","抱擁","理論","幽鬼","剣士","六連","人形","蟲","錯誤","狂乱","魔女","狂気","狂戦"],te=!1,re={prefix:Y,semi:Z,suffix:ee,withLeet:te},ae=["super","mega","ultra","hyper","uber","giga","tera","peta","exa","zetta","intelli","retired","cyber","nano","quantum","cosmic","galactic","internet","web","dark","light","shadow","code","data","system","network","security"],ne=["_","-"],se=!0,ce=["hacker","dragon","ninja","pirate","alien","zombie","vampire","werewolf","ghost","breaker","explorer","apple","banana","cherry","virus","worm","trojan","agent","master","mind","brain","script"],le={prefix:ae,semi:ne,suffix:ce,withLeet:se};async function T(s){const l=s.prefix[Math.floor(Math.random()*s.prefix.length)],d=s.semi[Math.floor(Math.random()*s.semi.length)],o=s.suffix[Math.floor(Math.random()*s.suffix.length)];return s.withLeet?await F(`${l}${d}${o}`):Promise.resolve(`${l}${d}${o}`)}async function oe(s){switch(s){case"chuunibyou":return T(re);case"hacker":return T(le)}}var ie=n('<h2 class="font-bold text-center">'),me=n('<div class="flex-1 flex flex-col items-center md:justify-center p-3 md:p-6">'),ue=n('<span class="icon-[fluent--flag-20-regular] w-5 h-5">'),pe=n('<span class="icon-[fluent--diversity-20-regular] w-5 h-5">'),g=n("<span>"),ge=n("<span>Hacker Names"),de=n('<span class="icon-[fluent--settings-20-regular] w-5 h-5">'),fe=n("<input type=checkbox class=hidden>"),he=n('<div class="w-[calc(100vw-3rem)] max-w-5xl max-h-[calc(100vh-3rem)] overflow-scroll"><h2 class="text-center text-3xl font-bold p-4 pb-0">'),_e=n('<div class="flex space-x-2">'),xe=n('<span class="icon-[fluent--checkmark-circle-20-filled] w-5 h-5 text-primary">'),ve=n('<span class="icon-[fluent--checkmark-circle-20-regular] w-5 h-5">');function He(){const s=I(),[l,d]=f(!1),[o,{Form:q,Field:b}]=X();$(()=>{p.current&&!Q()&&(W({level:"warning",description:r("game.canNotParticipate"),duration:5e3}),s(`/games/${p.current.id}`,{replace:!0}))}),$(()=>{p.current&&C(()=>{d(p.current?.team_size===1),x(o,"name",V.nickname)})});const[k,we]=f(!1);function M(m){}const[v,y]=f("hacker"),[z,S]=f(null),A=Object.assign({"../../_blocks/contents/welcome.en_us.md":()=>_(()=>import("./welcome.en_us-BpeuZc6f.js"),[]),"../../_blocks/contents/welcome.ja_jp.md":()=>_(()=>import("./welcome.ja_jp-BwVdDEDk.js"),[]),"../../_blocks/contents/welcome.zh_cn.md":()=>_(()=>import("./welcome.zh_cn-C3qm9_Io.js"),[]),"../../_blocks/contents/welcome.zh_tw.md":()=>_(()=>import("./welcome.zh_tw-CJ6T0HgC.js"),[])});return $(()=>{P.locale&&C(()=>{const m=A[`../../_blocks/contents/welcome.${P.locale}.md`];m().then(a=>{S(a.default)})})}),[t(U,{get title(){return`${r("game.team.create.title")} - ${p.current?.name||"CTF"}`}}),(()=>{var m=me();return c(m,t(D,{class:"w-full max-w-xl",contentClass:"p-6 flex flex-col md:flex-row space-y-2 space-x-0 md:space-x-6 md:space-y-0",get children(){return t(q,{onSubmit:M,class:"md:w-0 flex-1 flex-shrink-0 flex flex-col space-y-2",get children(){return[(()=>{var a=ie();return c(a,()=>r("game.team.create.title")),a})(),t(b,{name:"name",get validate(){return[R(r("game.team.create.nameRequired")),B(32,r("game.team.create.nameMaxLength"))]},children:(a,w)=>t(J,j({get icon(){return ue()},get title(){return N(()=>!!l())()?r("game.team.create.customDisabled"):r("game.team.create.name")},get placeholder(){return r("game.team.create.namePlaceholder")}},w,{get value(){return a.value},get error(){return a.error},required:!0,get disabled(){return l()},get extraBtn(){return[t(i,{class:"!rounded-none",square:!0,get disabled(){return l()},onClick:()=>{oe(v()).then(e=>{x(o,"name",e)})},get children(){return pe()}}),t(K,{class:"!rounded-l-none",square:!0,get disabled(){return l()},get btnContent(){return de()},get children(){return t(D,{contentClass:"p-2 flex flex-col space-y-2",get children(){return[t(i,{ghost:!0,size:"sm",justify:"start",onClick:()=>y("hacker"),get children(){return[(()=>{var e=g();return E(()=>L(e,`icon-[fluent--diversity-20-regular] w-5 h-5 ${v()==="hacker"?"text-primary":""}`)),e})(),ge()]}}),t(i,{ghost:!0,size:"sm",justify:"start",onClick:()=>y("chuunibyou"),get children(){return[(()=>{var e=g();return E(()=>L(e,`icon-[fluent--diversity-20-regular] w-5 h-5 ${v()==="chuunibyou"?"text-primary":""}`)),e})(),(()=>{var e=g();return c(e,()=>r("game.team.create.chuunibyouGenerator")),e})()]}})]}})}})]}}))}),t(b,{name:"accepted",type:"boolean",get validate(){return[R(r("game.team.create.acceptedRequired"))]},children:(a,w)=>[(()=>{var e=fe();return O(e,j(w,{get checked(){return a.value}}),!1,!1),e})(),t(H,{justify:"start",ghost:!0,get level(){return a.error?"error":void 0},get btnContent(){return[t(h,{get when(){return a.value},get fallback(){return ve()},get children(){return xe()}}),(()=>{var e=g();return c(e,()=>r("game.team.create.acceptRules")),e})()]},get children(){return[(()=>{var e=he(),u=e.firstChild;return c(u,()=>r("game.team.create.rulesTitle")),c(e,t(G,{class:"self-center",get content(){return z()||""},noExtraPaddings:!0}),null),e})(),(()=>{var e=_e();return c(e,t(i,{class:"flex-1",level:"success",onClick:()=>x(o,"accepted",!0),get disabled(){return a.value},get children(){var u=g();return c(u,t(h,{get when(){return a.value},get children(){return r("game.team.create.accepted")}}),null),c(u,t(h,{get when(){return!a.value},get children(){return r("game.team.create.accept")}}),null),u}}),null),c(e,t(h,{get when(){return a.value},get children(){return t(i,{level:"error",onClick:()=>x(o,"accepted",!1),get children(){return r("game.team.create.reject")}})}}),null),e})()]}})]}),t(i,{type:"submit",level:"primary",get loading(){return k()},get disabled(){return k()},get children(){return r("form.create")}})]}})}})),m})()]}export{He as default};
