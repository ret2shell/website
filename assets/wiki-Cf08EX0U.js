import{E as o,k as n}from"./index-D-4Ec2E9.js";import{d as i,e}from"./index-CDuUghHV.js";import{a as s}from"./toast-RiaHQnvP.js";async function c(){return await i.get(`${e}/wiki`).json()}async function p(t){return await i.get(`${e}/wiki/${t}`).json()}async function f(t){return await i.post(`${e}/wiki`,{json:t}).json()}async function $(t){return await i.patch(`${e}/wiki/${t.id}`,{json:t}).json()}async function j(t){return await i.delete(`${e}/wiki/${t}`).json()}const[l,u]=o({toc:[],current:null});async function y(){try{let t=await c();t=t.sort((a,r)=>a.created_at<r.created_at?-1:1),u({toc:t})}catch(t){t.response.text().then(a=>{s({level:"error",description:`${n("wiki.fetchTocFailed")}: ${a}`,duration:5e3})})}}export{f as c,j as d,p as g,y as r,u as s,$ as u,l as w};
