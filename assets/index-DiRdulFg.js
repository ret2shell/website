import{w as I,c as f,b as w,k as a,d as C,h as j,e as t,j as l,m as P,l as E,r as L,q as N,D as O,S as h,t as n,_}from"./index-DHCM5LJk.js";import{a as V}from"./index-DzhbeeeD.js";import{l as F,m as B}from"./rpc-BomgkFEB.js";import{A as G}from"./article-OyBfJmMV.js";import{B as u}from"./button-CWvnh7OL.js";import{C as D}from"./card-D1oJOCbi.js";import{D as H}from"./dialog-DeIumok6.js";import{I as J}from"./input-Cs8V4IvD.js";import{P as K}from"./popover-C_nceKuQ.js";import{g as p,c as Q}from"./game-AtpgpTlS.js";import{T as U}from"./header-C2rgC6oY.js";import{a as W}from"./toast-Bmssr5_f.js";import{c as X}from"./Form-CGI4Segl.js";import{s as x}from"./setValue-Bf_BOLWD.js";import{r as T}from"./required-C9pyDEac.js";import{A as Y}from"./components-Dq7YmzrW.js";import"./datetime-P2UEB0PT.js";import"./loading-tips-D8Ukv1g_.js";import"./spin-B3vkVWkZ.js";import"./loading-tips-CelvmSQ5.js";import"./use-environment-context-CrE27ks0.js";import"./use-presence-context-C0VfJ-0L.js";import"./popover-root-Bs3_F_Uf.js";import"./use-locale-context-Bwyb0cy2.js";import"./user-DLuZu1WC.js";const Z=["樱","四月","挽辞","执樱","雪落","殇柒泪","婉兮","星浅","卿璃","霜","孤","偏执","浮生","半面","孤独","独舞","赤血","狂舞","狂想","黑暗","暗夜","影","漆黑","轩辕","裂焰","沉默","磁暴","恶魂","黑镜","诸神","破晓","黎明","混沌","浮遊","火炎","無双","雷撃","鎖状","火燐","零式","浮遊"],ee=["の","ヘ","ン","ヮ","ャ","マ","ァ","キ"],te=["雪","谎言","玫瑰","亡瞳","玖音","殇","浅","星","离歌","梦音","流歌","愛","哀伤","月","夜","梦","斩","黑猫","幽人","煉獄","微塵","灰燼","洛千","抱擁","理論","幽鬼","剣士","六連","人形","蟲","錯誤","狂乱","魔女","狂気","狂戦"],re=!1,ae={prefix:Z,semi:ee,suffix:te,withLeet:re},ne=["super","mega","ultra","hyper","uber","giga","tera","peta","exa","zetta","intelli","retired","cyber","nano","quantum","cosmic","galactic","internet","web","dark","light","shadow","code","data","system","network","security"],le=["_","-"],se=!0,ce=["hacker","dragon","ninja","pirate","alien","zombie","vampire","werewolf","ghost","breaker","explorer","apple","banana","cherry","virus","worm","trojan","agent","master","mind","brain","script"],oe={prefix:ne,semi:le,suffix:ce,withLeet:se};async function R(s){const o=s.prefix[Math.floor(Math.random()*s.prefix.length)],d=s.semi[Math.floor(Math.random()*s.semi.length)],i=s.suffix[Math.floor(Math.random()*s.suffix.length)];return s.withLeet?await F(`${o}${d}${i}`):Promise.resolve(`${o}${d}${i}`)}async function ie(s){switch(s){case"chuunibyou":return R(ae);case"hacker":return R(oe)}}var me=n('<h2 class="font-bold text-center">'),m=n("<span>"),ue=n('<span class="icon-[fluent--arrow-right-20-regular] w-5 h-5">'),pe=n('<div class="flex-1 flex flex-col items-center md:justify-center p-3 md:p-6">'),ge=n('<span class="icon-[fluent--flag-20-regular] w-5 h-5">'),de=n('<span class="icon-[fluent--diversity-20-regular] w-5 h-5">'),fe=n("<span>Hacker Names"),he=n('<span class="icon-[fluent--settings-20-regular] w-5 h-5">'),_e=n("<input type=checkbox class=hidden>"),xe=n('<div class="w-[calc(100vw-3rem)] max-w-5xl max-h-[calc(100vh-3rem)] overflow-scroll"><h2 class="text-center text-3xl font-bold p-4 pb-0">'),ve=n('<div class="flex space-x-2">'),$e=n('<span class="icon-[fluent--checkmark-circle-20-filled] w-5 h-5 text-primary">'),we=n('<span class="icon-[fluent--checkmark-circle-20-regular] w-5 h-5">');function Qe(){const s=I(),[o,d]=f(!1),[i,{Form:q,Field:b}]=X();w(()=>{p.current&&!Q()&&(W({level:"warning",description:a("game.canNotParticipate"),duration:5e3}),s(`/games/${p.current.id}`,{replace:!0}))}),w(()=>{p.current&&C(()=>{d(p.current?.team_size===1),x(i,"name",V.nickname)})});const[y,be]=f(!1);function M(g){}const[v,k]=f("hacker"),[z,A]=f(null),S=Object.assign({"../../_blocks/contents/welcome.en_us.md":()=>_(()=>import("./welcome.en_us-BpeuZc6f.js"),[]),"../../_blocks/contents/welcome.ja_jp.md":()=>_(()=>import("./welcome.ja_jp-BwVdDEDk.js"),[]),"../../_blocks/contents/welcome.zh_cn.md":()=>_(()=>import("./welcome.zh_cn-C3qm9_Io.js"),[]),"../../_blocks/contents/welcome.zh_tw.md":()=>_(()=>import("./welcome.zh_tw-CJ6T0HgC.js"),[])});return w(()=>{j.locale&&C(()=>{const g=S[`../../_blocks/contents/welcome.${j.locale}.md`];g().then(r=>{A(r.default)})})}),[t(U,{get title(){return`${a("game.team.create.title")} - ${p.current?.name||"CTF"}`}}),(()=>{var g=pe();return l(g,t(D,{class:"w-full max-w-xl",contentClass:"p-6 flex flex-col md:flex-row space-y-2 space-x-0 md:space-x-6 md:space-y-0",get children(){return t(q,{onSubmit:M,class:"md:w-0 flex-1 flex-shrink-0 flex flex-col space-y-2",get children(){return[(()=>{var r=me();return l(r,()=>a("game.team.create.title")),r})(),t(b,{name:"name",get validate(){return[T(a("game.team.create.nameRequired")),B(32,a("game.team.create.nameMaxLength"))]},children:(r,$)=>t(J,P({get icon(){return ge()},get title(){return N(()=>!!o())()?a("game.team.create.customDisabled"):a("game.team.create.name")},get placeholder(){return a("game.team.create.namePlaceholder")}},$,{get value(){return r.value},get error(){return r.error},required:!0,get disabled(){return o()},get extraBtn(){return[t(u,{class:"!rounded-none",square:!0,type:"button",get disabled(){return o()},onClick:()=>{ie(v()).then(e=>{x(i,"name",e)})},get children(){return de()}}),t(K,{class:"!rounded-l-none",square:!0,type:"button",get disabled(){return o()},get btnContent(){return he()},get children(){return t(D,{contentClass:"p-2 flex flex-col space-y-2",get children(){return[t(u,{ghost:!0,size:"sm",justify:"start",type:"button",onClick:()=>k("hacker"),get children(){return[(()=>{var e=m();return E(()=>L(e,`icon-[fluent--diversity-20-regular] w-5 h-5 ${v()==="hacker"?"text-primary":""}`)),e})(),fe()]}}),t(u,{ghost:!0,size:"sm",justify:"start",type:"button",onClick:()=>k("chuunibyou"),get children(){return[(()=>{var e=m();return E(()=>L(e,`icon-[fluent--diversity-20-regular] w-5 h-5 ${v()==="chuunibyou"?"text-primary":""}`)),e})(),(()=>{var e=m();return l(e,()=>a("game.team.create.chuunibyouGenerator")),e})()]}})]}})}})]}}))}),t(b,{name:"accepted",type:"boolean",get validate(){return[T(a("game.team.create.acceptedRequired"))]},children:(r,$)=>[(()=>{var e=_e();return O(e,P($,{get checked(){return r.value}}),!1,!1),e})(),t(H,{justify:"start",ghost:!0,get level(){return r.error?"error":null},get btnContent(){return[t(h,{get when(){return r.value},get fallback(){return we()},get children(){return $e()}}),(()=>{var e=m();return l(e,()=>a("game.team.create.acceptRules")),e})()]},get children(){return[(()=>{var e=xe(),c=e.firstChild;return l(c,()=>a("game.team.create.rulesTitle")),l(e,t(G,{class:"self-center",get content(){return z()||""},noExtraPaddings:!0}),null),e})(),(()=>{var e=ve();return l(e,t(u,{class:"flex-1",level:"success",onClick:()=>x(i,"accepted",!0),get disabled(){return r.value},get children(){var c=m();return l(c,t(h,{get when(){return r.value},get children(){return a("game.team.create.accepted")}}),null),l(c,t(h,{get when(){return!r.value},get children(){return a("game.team.create.accept")}}),null),c}}),null),l(e,t(h,{get when(){return r.value},get children(){return t(u,{level:"error",onClick:()=>x(i,"accepted",!1),get children(){var c=m();return l(c,()=>a("game.team.create.reject")),c}})}}),null),e})()]}})]}),t(u,{type:"submit",level:"primary",get loading(){return y()},get disabled(){return y()},get children(){return a("form.create")}}),t(Y,{get href(){return`/games/${p.current?.id}/teams/join`},class:"flex items-center space-x-2 justify-center h-12 hover:underline opacity-60",get children(){return[(()=>{var r=m();return l(r,()=>a("game.team.joinTips")),r})(),ue()]}})]}})}})),g})()]}export{Qe as default};
