import{s as p,c as w,b,d as y,D as E,m as S,j as f,e as l,S as P,l as x,i as o,t as v}from"./index-DHCM5LJk.js";import{a as j}from"./index-CcaEcIBT.js";import{S as k}from"./spin-B3vkVWkZ.js";var L=v('<div class="absolute top-0 left-0 w-full h-full flex items-center justify-center bg-layer/80 backdrop-blur-xl">'),C=v('<div><img class="w-full h-full object-cover">');function D(m){const[e,c]=p(m,["src","alt","fallback","width","height"]),[g,n]=w(!0);let d="";return b(()=>{e.src&&d!==e.src&&y(()=>{n(!0),d=e.src})}),(()=>{var i=C(),a=i.firstChild;return E(i,S(c,{get class(){return`overflow-hidden relative ${c.class}`}}),!1,!0),a.addEventListener("loadstart",()=>n(!0)),a.addEventListener("load",()=>{setTimeout(()=>{n(!1)},500)}),f(i,l(j,{onEnter:(t,r)=>{t.animate([{opacity:0},{opacity:1}],{duration:300}).finished.then(r)},onExit:(t,r)=>{t.animate([{opacity:1},{opacity:0}],{duration:300}).finished.then(r)},get children(){return l(P,{get when(){return g()},get children(){var t=L();return f(t,l(k,{width:24,height:24})),t}})}}),null),x(t=>{var r=e.width,s=e.height,u=e.src,h=e.alt;return r!==t.e&&o(a,"width",t.e=r),s!==t.t&&o(a,"height",t.t=s),u!==t.a&&o(a,"src",t.a=u),h!==t.o&&o(a,"alt",t.o=h),t},{e:void 0,t:void 0,a:void 0,o:void 0}),i})()}export{D as P};
