import{e as o,U as $,q as R,m as z,F as G,t as _}from"./index-D-4Ec2E9.js";import{c as A,b as V,d as h,e as q,f as M,g as x,T as N,k,q as C,m as b,a as T,u as w,l as U,o as F}from"./use-environment-context-C2cuRCHg.js";import{u as j}from"./use-locale-context-Cw8uL8t2.js";var O=A("pagination").parts("root","item","ellipsis","prevTrigger","nextTrigger"),P=O.build(),m=V({getRootId:e=>e.ids?.root??`pagination:${e.id}`,getPrevTriggerId:e=>e.ids?.prevTrigger??`pagination:${e.id}:prev`,getNextTriggerId:e=>e.ids?.nextTrigger??`pagination:${e.id}:next`,getEllipsisId:(e,a)=>e.ids?.ellipsis?.(a)??`pagination:${e.id}:ellipsis:${a}`,getItemId:(e,a)=>e.ids?.item?.(a)??`pagination:${e.id}:item:${a}`}),S=(e,a)=>{let t=a-e+1;return Array.from({length:t},(n,i)=>i+e)},X=e=>e.map(a=>typeof a=="number"?{type:"page",value:a}:{type:"ellipsis"}),f="ellipsis",Z=e=>{const a=Math.min(2*e.siblingCount+5,e.totalPages),t=1,n=e.totalPages,i=Math.max(e.page-e.siblingCount,t),g=Math.min(e.page+e.siblingCount,n),p=i>t+1,d=g<n-1,l=a-2;if(!p&&d)return[...S(1,l),f,n];if(p&&!d){const s=S(n-l+1,n);return[t,f,...s]}if(p&&d){const s=S(i,g);return[t,f,...s,f,n]}return S(t,n)},B=e=>X(Z(e));function D(e,a,t){const n=e.context.totalPages,i=e.context.page,g=e.context.translations,p=e.context.previousPage,d=e.context.nextPage,l=e.context.pageRange,s=e.context.type==="button",E=i===1,y=i===n;return{page:i,pageSize:e.context.pageSize,totalPages:n,pages:B(e.context),previousPage:p,nextPage:d,pageRange:l,slice(r){return r.slice(l.start,l.end)},setCount(r){a({type:"SET_COUNT",count:r})},setPageSize(r){a({type:"SET_PAGE_SIZE",size:r})},setPage(r){a({type:"SET_PAGE",page:r})},getRootProps(){return t.element({id:m.getRootId(e.context),...P.root.attrs,dir:e.context.dir,"aria-label":g.rootLabel})},getEllipsisProps(r){return t.element({id:m.getEllipsisId(e.context,r.index),...P.ellipsis.attrs,dir:e.context.dir})},getItemProps(r){const u=r.value,I=u===e.context.page;return t.element({id:m.getItemId(e.context,u),...P.item.attrs,dir:e.context.dir,"data-index":u,"data-selected":h(I),"aria-current":I?"page":void 0,"aria-label":g.itemLabel?.({page:u,totalPages:n}),onClick(){a({type:"SET_PAGE",page:u})},...s&&{type:"button"}})},getPrevTriggerProps(){return t.element({id:m.getPrevTriggerId(e.context),...P.prevTrigger.attrs,dir:e.context.dir,"data-disabled":h(E),"aria-label":g.prevTriggerLabel,onClick(){a({type:"PREVIOUS_PAGE"})},...s&&{disabled:E,type:"button"}})},getNextTriggerProps(){return t.element({id:m.getNextTriggerId(e.context),...P.nextTrigger.attrs,dir:e.context.dir,"data-disabled":h(y),"aria-label":g.nextTriggerLabel,onClick(){a({type:"NEXT_PAGE"})},...s&&{disabled:y,type:"button"}})}}}function H(e){const a=q(e);return M({id:"pagination",initial:"idle",context:{pageSize:10,siblingCount:1,page:1,type:"button",translations:{rootLabel:"pagination",prevTriggerLabel:"previous page",nextTriggerLabel:"next page",itemLabel({page:t,totalPages:n}){return`${n>1&&t===n?"last page, ":""}page ${t}`},...a.translations},...a},watch:{pageSize:["setPageIfNeeded"]},computed:{totalPages:t=>Math.ceil(t.count/t.pageSize),previousPage:t=>t.page===1?null:t.page-1,nextPage:t=>t.page===t.totalPages?null:t.page+1,pageRange:t=>{const n=(t.page-1)*t.pageSize,i=n+t.pageSize;return{start:n,end:i}},isValidPage:t=>t.page>=1&&t.page<=t.totalPages},on:{SET_COUNT:[{guard:"isValidCount",actions:["setCount","goToFirstPage"]},{actions:"setCount"}],SET_PAGE:{guard:"isValidPage",actions:"setPage"},SET_PAGE_SIZE:{actions:"setPageSize"},PREVIOUS_PAGE:{guard:"canGoToPrevPage",actions:"goToPrevPage"},NEXT_PAGE:{guard:"canGoToNextPage",actions:"goToNextPage"}},states:{idle:{}}},{guards:{isValidPage:(t,n)=>n.page>=1&&n.page<=t.totalPages,isValidCount:(t,n)=>t.page>n.count,canGoToNextPage:t=>t.page<t.totalPages,canGoToPrevPage:t=>t.page>1},actions:{setCount(t,n){t.count=n.count},setPage(t,n){c.page(t,n.page)},setPageSize(t,n){c.pageSize(t,n.size)},goToFirstPage(t){c.page(t,1)},goToPrevPage(t){c.page(t,t.page-1)},goToNextPage(t){c.page(t,t.page+1)},setPageIfNeeded(t,n){t.isValidPage||c.page(t,1)}}})}var c={pageSize:(e,a)=>{N(e.pageSize,a)||(e.pageSize=a,e.onPageSizeChange?.({pageSize:e.pageSize}))},page:(e,a)=>{N(e.page,a)||(e.page=a,e.onPageChange?.({page:e.page,pageSize:e.pageSize}))}};x()(["count","dir","getRootNode","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]);x()(["value","type"]);x()(["index"]);const[J,v]=k({hookName:"usePaginationContext",providerName:"<PaginationProvider />"}),K=e=>e.children(v()),Q=e=>{const[a,t]=C()(e,["index"]),n=v(),i=b(()=>n().getEllipsisProps(a),t);return o(T.div,i)},W=e=>{const[a,t]=C()(e,["value","type"]),n=v(),i=b(()=>n().getItemProps(a),t);return o(T.button,i)},Y=e=>{const a=v(),t=b(()=>a().getNextTriggerProps(),e);return o(T.button,t)},ee=e=>{const a=v(),t=b(()=>a().getPrevTriggerProps(),e);return o(T.button,t)},te=e=>{const a=j(),t=w(),n=$(),i=R(()=>({id:n,dir:a().dir,getRootNode:t().getRootNode,page:e.defaultPage,...e})),[g,p]=U(H(i()),{context:i});return R(()=>D(g,p,F))},ae=e=>{const[a,t]=C()(e,["count","defaultPage","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]),n=te(a),i=b(()=>n().getRootProps(),t);return o(J,{value:n,get children(){return o(T.nav,i)}})};var ne=_('<span class="icon-[fluent--chevron-double-left-20-regular] w-5 h-5">'),ie=_('<span class="icon-[fluent--chevron-double-right-20-regular] w-5 h-5">');function se(e){return o(ae,z(e,{get class(){return`flex flex-row space-x-2 items-center justify-center ${e.class}`},get children(){return[o(ee,{class:"btn btn-md btn-square btn-ghost justify-center",get children(){return ne()}}),o(K,{children:a=>o(G,{get each(){return a().pages},children:(t,n)=>t.type==="page"?o(W,z(t,{get class(){return`btn btn-square btn-md justify-center ${t.value===a().page?"btn-primary":""}`},get children(){return t.value}})):o(Q,{get index(){return n()},children:"â€¦"})})}),o(Y,{class:"btn btn-md btn-square btn-ghost justify-center",get children(){return ie()}})]}}))}export{se as P};
