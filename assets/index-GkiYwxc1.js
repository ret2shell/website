import{c as E,j as l,k as a,e,m as G,D as S,l as k,r as A,i as O,q as v,t as u,y as oe,b as Q,d as ie,S as I,F as J,h as ue,f as ce}from"./index-DHCM5LJk.js";import{c as ge,g as de}from"./game-C-24t-6X.js";import{L as U}from"./logo-animate-DwzBVVhL.js";import{S as me}from"./spin-B3vkVWkZ.js";import{b as fe}from"./bg-game-default-CaNjxZx0.js";import{r as pe}from"./loading-tips-CelvmSQ5.js";import{m as $}from"./media-DKWJ99ov.js";import{H as F}from"./game-Ct7CExFT.js";import{P as he}from"./user-DLuZu1WC.js";import{a as ne}from"./index-DzhbeeeD.js";import{g as ee,s as Z,b as ve}from"./game-AtpgpTlS.js";import{a as se}from"./toast-Bmssr5_f.js";import{B as w}from"./button-CWvnh7OL.js";import{C as V}from"./card-D1oJOCbi.js";import{D as X}from"./divider-D2gFZMAr.js";import{L}from"./link-C85afmZZ.js";import{P as B}from"./picture-BcVmyKAE.js";import{P as we}from"./popover-C_nceKuQ.js";import{T as z}from"./tag-Chhr92Vq.js";import{D as d}from"./datetime-P2UEB0PT.js";import{I as M}from"./input-Cs8V4IvD.js";import{T as te}from"./timepicker-DZ7W1KNt.js";import{c as xe}from"./Form-CGI4Segl.js";import{s as be}from"./setValues-D24qEHVO.js";import{r as j}from"./required-C9pyDEac.js";import{s as D}from"./setValue-Bf_BOLWD.js";import"./components-Dq7YmzrW.js";import"./index-CcaEcIBT.js";import"./index-mQdWiL7h.js";import"./use-environment-context-CrE27ks0.js";import"./popover-root-Bs3_F_Uf.js";import"./use-presence-context-C0VfJ-0L.js";import"./use-locale-context-Bwyb0cy2.js";function ye(h,c){return g=>(g||g===0)&&g>h?c:""}function Ce(h,c){return g=>(g||g===0)&&g<h?c:""}const ke="data:image/webp;base64,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",Te="data:image/webp;base64,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";var Ae=u('<div class="flex flex-col lg:flex-row space-y-2 lg:space-y-0 lg:space-x-4"><div class="flex flex-col space-y-1"><label class=label></label><div class="flex flex-row">'),Ie=u('<div class="flex-1 self-center w-full max-w-5xl flex flex-col"><h1 class="text-3xl text-center font-bold mt-8"> - '),re=u('<span class="icon-[fluent--flag-20-regular] w-5 h-5">'),Ke=u('<span class="icon-[fluent--person-20-regular] w-5 h-5">'),N=u("<input type=checkbox class=hidden>"),_=u("<span>"),Ge=u('<div class="flex flex-col space-y-1"><label class=label><input class=hidden type=number></label><div class="flex flex-row">'),je=u('<div class="flex flex-col lg:flex-row space-y-2 lg:space-y-0 lg:space-x-4">');function He(h){const[c,{Form:g,Field:f}]=xe(),[K,H]=E(!1);be(c,{weight:3,team_size:4,offline:!1,enable_audit:!0,can_register_after_started:!0});function R(x){H(!0);const y={...x,start_at:d.fromSeconds(x.start_at),end_at:d.fromSeconds(x.end_at),register_at:d.fromSeconds(x.register_at),archive_at:d.fromSeconds(x.archive_at),host_type:F.CTFGame,id:0,hidden:!0,frozen:!1,updated_at:d.now(),introduction_id:null,access_policy:{restrict:!1,institutes:[],sync:2},cover:null,logo:null,award_rate:0,admins:[ne.id],token:null};ge(y).then(p=>{h.onDone(p)}).catch(p=>{p.response.text().then(m=>{se({level:"error",description:`${a("game.createFailed")}: ${m}`,duration:5e3})})}).finally(()=>{H(!1)})}return(()=>{var x=Ie(),y=x.firstChild,p=y.firstChild;return l(y,()=>a("game.create"),p),l(y,()=>a("game.title"),null),l(x,e(g,{onSubmit:R,class:"flex flex-col space-y-2 py-3 lg:py-6",get children(){return[(()=>{var m=Ae(),s=m.firstChild,T=s.firstChild,C=T.nextSibling;return l(m,e(f,{name:"name",get validate(){return[j(a("game.nameRequired"))]},children:(r,o)=>e(M,G({get icon(){return re()},get placeholder(){return a("game.namePlaceholder")},get title(){return a("game.namePlaceholder")}},o,{get value(){return r.value},get error(){return r.error},required:!0,class:"flex-1"}))}),s),l(m,e(f,{name:"team_size",type:"number",get validate(){return[j(a("game.team.sizeRequired")),Ce(1,a("game.team.sizeMinExceeded")),ye(99,a("game.team.sizeMaxExceeded"))]},children:(r,o)=>e(M,G({get icon(){return Ke()},get placeholder(){return a("game.teamSizePlaceholder")},get title(){return a("game.teamSizePlaceholder")}},o,{get value(){return r.value},type:"number",get error(){return r.error},required:!0,class:"min-w-48",min:1,max:99}))}),s),l(T,()=>a("game.miscSettings")),l(C,e(f,{name:"can_register_after_started",type:"boolean",children:(r,o)=>[(()=>{var i=N();return S(i,G(o,{get checked(){return r.value}}),!1,!1),i})(),e(w,{get title(){return a("game.canRegisterAfterStarted")},type:"button",class:"!rounded-r-none",square:!0,onClick:()=>{D(c,"can_register_after_started",!r.value)},get children(){var i=_();return k(()=>A(i,`icon-[fluent--accessibility-checkmark-20-${r.value?"filled":"regular"}] w-5 h-5 ${r.value?"text-primary":""}`)),i}})]}),null),l(C,e(f,{name:"offline",type:"boolean",children:(r,o)=>[(()=>{var i=N();return S(i,G(o,{get checked(){return r.value}}),!1,!1),i})(),e(w,{get title(){return a("game.offline")},type:"button",class:"!rounded-none",square:!0,onClick:()=>{D(c,"offline",!r.value)},get children(){var i=_();return k(()=>A(i,`icon-[fluent--wifi-off-20-${r.value?"filled":"regular"}] w-5 h-5 ${r.value?"text-primary":""}`)),i}})]}),null),l(C,e(f,{name:"enable_audit",type:"boolean",children:(r,o)=>[(()=>{var i=N();return S(i,G(o,{get checked(){return r.value}}),!1,!1),i})(),e(w,{get title(){return a("game.enableAudit")},type:"button",class:"!rounded-l-none",square:!0,onClick:()=>{D(c,"enable_audit",!r.value)},get children(){var i=_();return k(()=>A(i,`icon-[fluent--people-audience-20-${r.value?"filled":"regular"}] w-5 h-5 ${r.value?"text-primary":""}`)),i}})]}),null),l(m,e(f,{name:"weight",type:"number",children:(r,o)=>(()=>{var i=Ge(),Y=i.firstChild,P=Y.firstChild,t=Y.nextSibling;return l(Y,()=>a("game.weight"),P),S(P,G(o,{get value(){return r.value}}),!1,!1),l(t,e(w,{type:"button",square:!0,get class(){return`!rounded-r-none ${r.value===1?"text-primary":""}`},onClick:()=>{D(c,"weight",1)},children:"1"}),null),l(t,e(w,{type:"button",square:!0,get class(){return`!rounded-none ${r.value===2?"text-primary":""}`},onClick:()=>{D(c,"weight",2)},children:"2"}),null),l(t,e(w,{type:"button",square:!0,get class(){return`!rounded-l-none ${r.value===3?"text-primary":""}`},onClick:()=>{D(c,"weight",3)},children:"3"}),null),k(()=>O(Y,"for",o.name)),i})()}),null),m})(),e(f,{name:"brief",get validate(){return[j(a("game.briefRequired"))]},children:(m,s)=>e(M,G({get icon(){return re()},get placeholder(){return a("game.briefPlaceholder")},get title(){return a("game.briefPlaceholder")}},s,{get value(){return m.value},get error(){return m.error},required:!0,class:"flex-1"}))}),e(f,{name:"start_at",type:"number",get validate(){return[j(a("game.startAtRequired"))]},children:m=>e(f,{name:"end_at",type:"number",get validate(){return[j(a("game.endAtRequired"))]},children:s=>e(f,{name:"register_at",type:"number",get validate(){return[j(a("game.registerAtRequired"))]},children:T=>e(f,{name:"archive_at",type:"number",get validate(){return[j(a("game.archiveAtRequired"))]},children:C=>(()=>{var r=je();return l(r,e(te,{class:"flex-1",form:c,type:"time",range:!0,get title(){return a("game.startEndTime")},get placeholder(){return a("game.startEndTime")},get name(){return m.name},get value(){return m.value},get nameNext(){return s.name},get valueNext(){return s.value},get error(){return m.error||s.error},get startEdge(){return v(()=>!!T.value)()&&d.fromSeconds(T.value)||void 0},get endEdge(){return v(()=>!!C.value)()&&d.fromSeconds(C.value)||void 0}}),null),l(r,e(te,{class:"flex-1",form:c,type:"time",range:!0,get title(){return a("game.registerArchiveTime")},get placeholder(){return a("game.registerArchiveTime")},get name(){return T.name},get value(){return T.value},get nameNext(){return C.name},get valueNext(){return C.value},get error(){return T.error||C.error},get startEdge(){return v(()=>!!m.value)()&&d.fromSeconds(m.value)||void 0},get endEdge(){return v(()=>!!s.value)()&&d.fromSeconds(s.value)||void 0},reverseEdge:!0}),null),r})()})})})}),e(w,{type:"submit",level:"primary",class:"!mt-4",get loading(){return K()},get disabled(){return K()},get children(){return a("form.create")}})]}}),null),x})()}var Re=u('<span class="icon-[fluent--add-20-regular] w-5 h-5 opacity-60">'),b=u("<span>"),Ye=u('<span class="icon-[fluent--chevron-double-up-20-regular] w-5 h-5 opacity-60">'),qe=u('<span class="icon-[fluent--chevron-double-down-20-regular] w-5 h-5 opacity-60">'),We=u('<span class="icon-[fluent--chevron-double-down-20-regular] w-5 h-5">'),Xe=u('<span class="icon-[fluent--chevron-double-left-20-regular] w-5 h-5">'),De=u('<span class="icon-[fluent--chevron-double-right-20-regular] w-5 h-5">'),Pe=u('<img class="hidden lg:block"width=64 height=64>'),Se=u('<div class="flex flex-col space-y-2 flex-1 w-full lg:w-auto"><h2 class="text-xl font-bold flex flex-row space-x-4"></h2><p class=opacity-60>'),Ve=u('<div class="flex flex-col space-y-2">'),Ee=u('<button class="absolute w-full h-full top-0 left-0 !m-0"type=button>'),Oe=u('<section class="lg:h-full lg:min-h-full lg:overflow-scroll lg:snap-center flex flex-col lg:flex-row relative"><div class="w-1/4 hidden lg:flex flex-col items-end justify-start py-32 space-y-2"><div class=flex-1></div></div><div class="w-16 hidden lg:inline-block"></div><div class="flex-1 p-3 lg:p-12 flex flex-col items-center lg:justify-center lg:items-start">'),le=u('<span class="icon-[fluent--flag-20-regular] w-5 h-5">'),Ze=u('<span class="icon-[fluent--weather-snowflake-20-regular] w-5 h-5 text-primary mx-2">'),Le=u('<span class="icon-[fluent--eye-off-20-regular] w-5 h-5 text-warning mx-2">'),ae=u("<div>"),Be=u('<div class="w-full h-full absolute top-0 left-0 bg-layer/70 backdrop-blur flex items-center justify-center">');function ze(){const[h,c]=oe(),[g,f]=E(1),[K,H]=E(0),[R,x]=E(!0),y=()=>h.create==="true",p=v(()=>{const r=h.selected?Number.parseInt(h.selected):Number.NaN;return Number.isNaN(r)?ee.games.at(0)?.id||null:r}),m=v(()=>ee.games.filter(r=>r.weight>=3&&r.host_type===F.CTFGame).sort((r,o)=>o.start_at.diff(r.start_at).seconds).slice((g()-1)*5,g()*5+1)),s=v(()=>m().find(r=>r.id===p()));Q(()=>{Z({preload:s()||null})});function T(){de(g(),5,F.CTFGame,3).then(([r,o])=>{ve(r),H(o)}).catch(r=>{r.response.text().then(o=>{se({level:"error",description:`${a("game.fetchFailed")}: ${o}`,duration:5e3})})}).finally(()=>{x(!1)})}Q(()=>{g()&&ie(T)});function C(r){Z({preload:r,current:r})}return(()=>{var r=Oe(),o=r.firstChild,i=o.firstChild,Y=o.nextSibling,P=Y.nextSibling;return l(o,e(I,{get when(){return ne.permissions.includes(he.Host)},get children(){return e(L,{level:"primary",class:"w-4/5",onClick:()=>{c({selected:void 0,create:!0})},href:"/games?create=true",get children(){return[Re(),(()=>{var t=b();return l(t,()=>a("game.create")),t})()]}})}}),i),l(o,e(X,{class:"w-4/5"}),i),l(o,e(w,{ghost:!0,class:"w-4/5",get disabled(){return g()<=1},onClick:()=>f(g()-1),get children(){return Ye()}}),i),l(o,e(X,{class:"w-4/5"}),i),l(o,e(J,{get each(){return m()},get fallback(){return e(w,{ghost:!0,disabled:!0,class:"w-4/5",justify:"start",get children(){return[le(),(()=>{var t=b();return l(t,()=>a("game.noGameHosted")),t})()]}})},children:t=>e(L,{ghost:!0,get class(){return`w-4/5 ${p()===t.id&&!y()?"btn-active":""}`},justify:"start",get href(){return`/games?selected=${t.id}`},get children(){return[(()=>{var n=b();return k(()=>A(n,`icon-[fluent--flag-20-${p()===t.id&&!y()?"filled":"regular"}] w-5 h-5 ${p()===t.id&&!y()?"text-primary":"opacity-60"}`)),n})(),(()=>{var n=b();return l(n,()=>t.name),k(()=>A(n,`flex-1 text-start ${p()===t.id&&!y()?"font-bold":"font-normal opacity-60"}`)),n})(),e(I,{get when(){return t.frozen},get children(){return Ze()}}),e(I,{get when(){return t.hidden},get children(){return Le()}}),(()=>{var n=ae();return k(()=>A(n,`w-2 h-2 rounded-full ${d.now()<t.start_at?"bg-info":d.now()>t.end_at?"bg-warning":"bg-success"}`)),n})()]}})}),i),l(o,e(X,{class:"w-4/5"}),i),l(o,e(w,{ghost:!0,class:"w-4/5",get disabled(){return g()>=K()},onClick:()=>f(g()+1),get children(){return qe()}}),i),l(o,e(X,{class:"w-4/5"}),i),l(o,e(X,{class:"w-4/5"}),null),l(o,e(w,{ghost:!0,class:"w-4/5",justify:"start",onClick:()=>{document.getElementById("other-games")?.scrollIntoView({behavior:"smooth"})},get children(){return[We(),(()=>{var t=b();return l(t,()=>a("game.otherGames")),t})()]}}),null),l(o,e(X,{class:"w-4/5"}),null),l(r,e(V,{class:"block lg:hidden mx-3 mt-3",contentClass:"p-2 flex flex-row space-x-2",get children(){return[e(w,{ghost:!0,square:!0,get children(){return Xe()}}),e(we,{popContentClass:"pt-2 flex flex-col",ghost:!0,class:"flex-1",get btnContent(){return(()=>{var t=b();return l(t,()=>s()?.name||a("game.noGameHosted")),t})()},get children(){return e(V,{class:"w-[80vw]",contentClass:"p-2 flex flex-col space-y-2",get children(){return e(J,{get each(){return m()},get fallback(){return e(w,{ghost:!0,disabled:!0,justify:"start",get children(){return[le(),(()=>{var t=b();return l(t,()=>a("game.noGameHosted")),t})()]}})},children:t=>e(L,{ghost:!0,get class(){return`${p()===t.id?"btn-active":""}`},justify:"start",get href(){return`/games?selected=${t.id}`},get children(){return[(()=>{var n=b();return k(()=>A(n,`icon-[fluent--flag-20-${p()===t.id?"filled":"regular"}] w-5 h-5 ${p()===t.id?"text-primary":"opacity-60"}`)),n})(),(()=>{var n=b();return l(n,()=>t.name),k(()=>A(n,`flex-1 text-start ${p()===t.id?"font-bold":"font-normal opacity-60"}`)),n})(),(()=>{var n=ae();return k(()=>A(n,`w-2 h-2 rounded-full ${d.now()<t.start_at?"bg-info":d.now()>t.end_at?"bg-warning":"bg-success"}`)),n})()]}})})}})}}),e(w,{ghost:!0,square:!0,get children(){return De()}})]}}),P),l(P,e(I,{get when(){return!y()},get fallback(){return e(He,{onDone:C})},get children(){return[e(V,{class:"aspect-video w-full lg:w-4/5 transform transition-all rounded-b-none lg:rounded-b-lg border-b-0 lg:border-b-[1px] overflow-hidden relative",contentClass:"relative",get children(){return[e(I,{get when(){return v(()=>!!p())()&&s()},get fallback(){return[e(I,{get when(){return ue.colorScheme==="dark"},get fallback(){return e(B,{src:Te,class:"w-full h-full"})},get children(){return e(B,{src:ke,class:"w-full h-full"})}}),(()=>{var t=Be();return l(t,e(U,{height:"h-1/3",class:"grayscale"})),t})()]},get children(){return e(B,{class:"aspect-video",get src(){return v(()=>!!s()?.cover)()&&$(s().cover)||fe}})}}),e(z,{class:"absolute top-2 right-2",get level(){return v(()=>!!s())()?v(()=>d.now()<(s()?.start_at||d.now()))()?"info":d.now()>(s()?.end_at||d.now())?"warning":"success":"error"},get children(){var t=b();return l(t,(()=>{var n=v(()=>!!s());return()=>n()?(()=>{var q=v(()=>d.now()<(s()?.start_at||d.now()));return()=>q()?a("game.pending"):(()=>{var W=v(()=>d.now()>(s()?.end_at||d.now()));return()=>W()?a("game.ended"):a("game.started")})()})():a("game.unknown")})()),t}})]}}),e(V,{class:"w-full lg:w-3/5 relative transform transition-all lg:-translate-y-[2rem] lg:translate-x-1/2 rounded-t-none lg:rounded-t-lg border-t-0 lg:border-t-[1px] flex",contentClass:"flex-1 flex flex-col md:flex-row space-y-4 lg:space-y-0 lg:space-x-8 p-6 px-9 items-center",get children(){return[e(I,{get when(){return s()?.logo},get fallback(){return e(I,{get when(){return R()},get fallback(){return e(U,{class:"hidden lg:block",width:64,height:64})},get children(){return e(me,{width:64,height:64})}})},get children(){var t=Pe();return k(n=>{var q=$(s().logo),W=s()?.name;return q!==n.e&&O(t,"src",n.e=q),W!==n.t&&O(t,"alt",n.t=W),n},{e:void 0,t:void 0}),t}}),(()=>{var t=Se(),n=t.firstChild,q=n.nextSibling;return l(n,(()=>{var W=v(()=>!!R());return()=>W()?pe():s()?.name||a("game.noGameHosted")})()),l(q,()=>s()?.brief||a("game.seeOtherInteresting")),t})(),(()=>{var t=Ve();return l(t,e(z,{level:"success",get children(){var n=b();return l(n,()=>s()?.start_at.toFormat("yyyy-MM-dd HH:mm:ss")||"None"),n}}),null),l(t,e(z,{level:"warning",get children(){var n=b();return l(n,()=>s()?.end_at.toFormat("yyyy-MM-dd HH:mm:ss")||"None"),n}}),null),t})(),(()=>{var t=Ee();return t.$$click=()=>(s()&&Z({current:s()||null}),!1),t})()]}})]}})),r})()}ce(["click"]);const Me="/assets/rx-N3IM9_O5.webp";var Ne=u('<section id=other-games class="lg:h-full lg:min-h-full lg:overflow-scroll lg:snap-center hidden lg:flex flex-col relative items-center justify-center space-y-8"><img class=rounded-xl alt=">Ï‰<"width=256 height=256><h1 class="font-bold text-3xl space-x-4"><span class=opacity-60></span><span class=text-primary>|</span><span></span></h1><p class=opacity-60>');function _e(){const h=[a("platform.notImplementedTips"),a("platform.notImplementedTips1"),a("platform.notImplementedTips2"),a("platform.notImplementedTips3")];return(()=>{var c=Ne(),g=c.firstChild,f=g.nextSibling,K=f.firstChild,H=K.nextSibling,R=H.nextSibling,x=f.nextSibling;return O(g,"src",Me),l(K,()=>a("platform.hello")),l(R,()=>a("platform.notImplemented")),l(x,()=>h[Math.floor(Math.random()*h.length)]),c})()}var Fe=u('<div class="flex-1 relative"><div class="lg:absolute lg:h-full lg:w-full overflow-scroll lg:snap-mandatory lg:snap-y">');function jt(){return(()=>{var h=Fe(),c=h.firstChild;return l(c,e(ze,{}),null),l(c,e(_e,{}),null),h})()}export{jt as default};
